@model GameDetailsAndReviewFormViewModel

		<!-- NAVIGATION -->
<nav id="navigation">
	<!-- container -->
	<div class="container">
		<!-- responsive-nav -->
		<div id="responsive-nav">
			<!-- NAV -->
			<ul class="main-nav nav navbar-nav">
				<li><a asp-controller="Home" asp-action="Index">Home</a></li>
				<li class="active"><a asp-controller="Category" asp-action="All">Categories</a></li>
				<li><a asp-controller="Game" asp-action="OwnedGames">My games</a></li>
			</ul>
			<!-- /NAV -->
		</div>
		<!-- /responsive-nav -->
	</div>
	<!-- /container -->
</nav>
<!-- /NAVIGATION -->
<!-- BREADCRUMB -->
<div id="breadcrumb" class="section">
	<!-- container -->
	<div class="container">
		<!-- row -->
		<div class="row">
			<div class="col-md-12">
				<ul class="breadcrumb-tree">
					<li><a asp-controller="Home" asp-action="Index">Home</a></li>
					<li><a asp-controller="Category" asp-action="All">Categories</a></li>
					<li><a asp-controller="Game" asp-action="GamesByCategory" asp-route-id="@Model.GameDetailsPage.CategoryId">@Model.GameDetailsPage.Category</a></li>
					<li class="active">@Model.GameDetailsPage.Title</li>
				</ul>
			</div>
		</div>
		<!-- /row -->
	</div>
	<!-- /container -->
</div>
<!-- /BREADCRUMB -->
<!-- SECTION -->
<div class="section">
	<!-- container -->
	<div class="container">
		<!-- row -->
		<div class="row">
			<!-- Product main img -->
			<div class="col-md-5 col-md-push-2">
				<div id="product-main-img">
					<div class="product-preview">
						<img src="@Url.Content($"~/{Model.GameDetailsPage.ImagePath}")" alt="">
					</div>
				</div>
			</div>
			<!-- /Product main img -->
			<!-- Product thumb imgs -->
			<div class="col-md-2  col-md-pull-5">
			</div>
			<!-- /Product thumb imgs -->
			<!-- Product details -->
			<div class="col-md-5">
				<div class="product-details">
					<h2 class="product-name">@Model.GameDetailsPage.Title</h2>
					<div>
						<div class="product-rating">
							<i class="fa fa-star"></i>
							<i class="fa fa-star"></i>
							<i class="fa fa-star"></i>
							<i class="fa fa-star"></i>
							<i class="fa fa-star-o"></i>
						</div>
						<a class="review-link">@Model.GameDetailsPage.Reviews.Count() Review(s) | Add your review</a>
					</div>
					<div>
						<h3 class="product-price">$@Model.GameDetailsPage.Price</h3>
						<span class="product-available">In Stock</span>
					</div>
					<p>Developer: @Model.GameDetailsPage.Developer</p>
					<p>Release Date: @Model.GameDetailsPage.ReleaseDate</p>

					<div class="add-to-cart">
						<button class="add-to-cart-btn"><i class="fa fa-shopping-cart"></i><a asp-controller="Order" asp-action="AddToCart" asp-route-id="@Model.GameDetailsPage.Id">add to cart</a></button>
					</div>

					<ul class="product-btns">
						<li><a asp-controller="Wishlist" asp-action="AddToWishlist" asp-route-id="@Model.GameDetailsPage.Id"><i class="fa fa-heart-o"></i> add to wishlist</a></li>
					</ul>

					<ul class="product-links">
						<li>Category:</li>
						<li><a asp-controller="Game" asp-action="GamesByCategory" asp-route-id="@Model.GameDetailsPage.CategoryId">@Model.GameDetailsPage.Category</a></li>
					</ul>

					<ul class="product-links">
						<li>Share:</li>
						<li><a href="#"><i class="fa fa-facebook"></i></a></li>
						<li><a href="#"><i class="fa fa-twitter"></i></a></li>
						<li><a href="#"><i class="fa fa-google-plus"></i></a></li>
						<li><a href="#"><i class="fa fa-envelope"></i></a></li>
					</ul>

				</div>
			</div>
			<!-- /Product details -->
			<!-- Product tab -->
			<div class="col-md-12">
				<div id="product-tab">
					<!-- product tab nav -->
					<ul class="tab-nav">
						<li class="active"><a data-toggle="tab" href="#tab1">Description</a></li>
						@* <li><a data-toggle="tab" href="#tab2">Details</a></li> *@
						<li><a data-toggle="tab" href="#tab3">Reviews (@Model.GameDetailsPage.Reviews.Count())</a></li>
					</ul>
					<!-- /product tab nav -->
					<!-- product tab content -->
					<div class="tab-content">
						<!-- tab1  -->
						<div id="tab1" class="tab-pane fade in active">
							<div class="row">
								<div class="col-md-12">
									<p class="text-center">@Model.GameDetailsPage.Description</p>
								</div>
							</div>
						</div>
						<!-- /tab1  -->
						<!-- tab3  -->
						<div id="tab3" class="tab-pane fade in">
							<div class="row">
								<!-- Rating -->
								<div class="col-md-3">
									<div id="rating">
										<div class="rating-avg">
											<span>@Model.GameDetailsPage.AverageRating().ToString("f2")</span>
											<div class="rating-stars">
												@for (int star = 1; star <= 5; star++)
												{
													if (star <= Model.GameDetailsPage.AverageRating())
													{
														<i class="fa fa-star"></i> <!-- filled star icon -->
													}
													else if (star - Model.GameDetailsPage.AverageRating() < 1)
													{
														<i class="fa fa-star-half-o" style="color: #D10024"></i> <!-- half-filled star icon -->
													}
													else
													{
														<i class="fa fa-star-o"></i> <!-- empty star icon -->
													}
												}
											</div>
										</div>
										<ul class="rating">
											@for (int i = 5 ; i >= 1; i--)
											{
												<li>
													<div class="rating-stars">
														@for (int j = 1; j <= i; j++)
														{
															<i class="fa fa-star"></i>
														}

														@if (i != 5)
														{
															@for (int z = 1; z <= 5 - i; z++)
															{
																<i class="fa fa-star-o"></i>
															}
														}
													</div>
													<div class="rating-progress">
														@if (Model.GameDetailsPage.Reviews.Any())
														{
															<div style="width: @(Model.GameDetailsPage.GetReviewCountByRating(i) * 100 / Model.GameDetailsPage.Reviews.Count())%;"></div>
														}
														else
														{
															<div></div>
														}
													</div>
													<span class="sum">@Model.GameDetailsPage.GetReviewCountByRating(i)</span>
												</li>
											}
										</ul>
									</div>
								</div>
								<!-- /Rating -->
								<!-- Reviews -->
								<div class="col-md-6">
									@if (Model.GameDetailsPage.Reviews.Any())
									{
										<div id="reviews">
											<ul class="reviews">
												@foreach (var review in Model.GameDetailsPage.Reviews)
												{
													<li>
														<div class="review-heading">
															<h5 class="name">@review.Username</h5>
															<p class="date">@review.DateCreated</p>
															<div class="review-rating">
																@for (int i = 0; i < review.Rating; i++)
																{
																	<i class="fa fa-star"></i>
																}
																@for (int i = 0; i < 5-review.Rating; i++)
																{
																	<i class="fa fa-star-o empty"></i>
																}																
															</div>
														</div>
														<div class="review-body">
															<p>@review.Comment</p>
														</div>
													</li>
												}
											</ul>
											<ul class="reviews-pagination">
												<li class="active">1</li>
												<li><a href="#">2</a></li>
												<li><a href="#">3</a></li>
												<li><a href="#">4</a></li>
												<li><a href="#"><i class="fa fa-angle-right"></i></a></li>
											</ul>
										</div>
									}
									else
									{
										<h3 class="text-center">No reviews</h3>
									}
								</div>
								<!-- /Reviews -->
								<!-- Review Form -->
								<div class="col-md-3">
									<div id="review-form">
										@Html.ValidationSummary(true, "", new { @class = "text-danger" })
										<form class="review-form" method="post">
@* 											<input class="input" type="text" placeholder="Your Name">
											<input class="input" type="email" placeholder="Your Email"> *@
											<div class="input-rating">
												<span>Your Rating: </span>
												<span asp-validation-for="@Model.ReviewForm.Rating" class="text-danger"></span>
												<div class="stars">
													<input id="star5" name="rating" value="5" type="radio" asp-for="@Model.ReviewForm.Rating"><label for="star5"></label>
													<input id="star4" name="rating" value="4" type="radio" asp-for="@Model.ReviewForm.Rating"><label for="star4"></label>
													<input id="star3" name="rating" value="3" type="radio" asp-for="@Model.ReviewForm.Rating"><label for="star3"></label>
													<input id="star2" name="rating" value="2" type="radio" asp-for="@Model.ReviewForm.Rating"><label for="star2"></label>
													<input id="star1" name="rating" value="1" type="radio" asp-for="@Model.ReviewForm.Rating"><label for="star1"></label>
												</div>
											</div>
											<span asp-validation-for="@Model.ReviewForm.Comment" class="text-danger"></span>
											<textarea class="input" name="Comment" placeholder="Your Review" asp-for="@Model.ReviewForm.Comment"></textarea>
											<button class="primary-btn" type="submit">Submit</button>
										</form>
									</div>
								</div>
								<!-- /Review Form -->
							</div>
						</div>
						<!-- /tab3  -->
					</div>
					<!-- /product tab content  -->
				</div>
			</div>
			<!-- /product tab -->
		</div>
		<!-- /row -->
	</div>
	<!-- /container -->
</div>
<!-- /SECTION -->
<partial name="_RecommendedGames" model="@(ViewBag.RelatedGames as IEnumerable<GamesViewModel>)" />